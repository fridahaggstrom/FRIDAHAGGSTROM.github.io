<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>My first three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="three.js"></script>
		<script src="OrbitControls.js"></script>
		<script src="OBJLoader.js"></script>

		<script>
			// Our Javascript will go here.
			var scene = new THREE.Scene();
			scene.background = new THREE.Color( 0xffffff );


			var camera = new THREE.PerspectiveCamera( 100, window.innerWidth / window.innerHeight, 0.1, 1000 );
			camera.position.set( 0, 0, 300 );

				light = new THREE.PointLight(
					0xffffff, .7)
				light.castShadow = true;
				scene.add( light )
				light.position.x=10;
				light.position.y=10;

				light2 = new THREE.DirectionalLight (0xE3D2FE, .5);
				scene.add(light2)
				light2.position.x=10;

				light3 = new THREE.AmbientLight( 0xffffff, 0.3 );
				light3.castShadow = true;
				scene.add( light3 )



			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.shadowMap.enabled = true;
			renderer.shadowMap.type = THREE.BasicShadowMap;
			document.body.appendChild( renderer.domElement );

			controls = new THREE.OrbitControls ( camera, renderer.domElement);
			controls.minDistance = 0;
			controls.maxDistance = 40;

			function loadModel() {
		    var loader = new THREE.OBJLoader();
		    loader.load( 'fusion.obj', function ( object ) {
		      object.rotation.z = Math.PI;
		      scene.add( object );
						    } );
		  }


			window.addEventListener ( "resize", function(){
				var width = window.innerWidth;
				var height = window.innerHeight;
				renderer.setSize( width, height);
				camera.aspect = width / height;
				camera.updateProjectionMatrix();
			})


			var groundMaterial = new THREE.MeshPhongMaterial( {
				side: THREE.DoubleSide,
				shininess: 40,
				color: 0xffffff,
				specular: 0xffffff,
			} );
			var planeGeometry = new THREE.PlaneBufferGeometry( 100, 100 );
			var ground = new THREE.Mesh( planeGeometry, groundMaterial );
			ground.position.set( 0, -20, 0 );
			ground.rotation.x = - Math.PI / 2;
			ground.scale.set( 1000, 1000, 1000 );
			ground.receiveShadow = true;
			scene.add( ground );

			var geometry = new THREE.SphereBufferGeometry(2, 64, 32);
			var material = new THREE.MeshStandardMaterial( {
						side: THREE.DoubleSide,
						color: 0x292FF9,
						metalness: 0,
						roughness: 0, } );
			var sphere = new THREE.Mesh( geometry, material );
			sphere.castShadow = true;
			scene.add( sphere );


			var geometry = new THREE.CubeGeometry(4, 4);
			var material = new THREE.MeshStandardMaterial( { color: 0xffffff } );
			var cube = new THREE.Mesh( geometry, material );
			cube.castShadow = true;
			scene.add( cube );

			var geometry = new THREE.CubeGeometry(100, 100, 100);
			var material = new THREE.MeshPhongMaterial( {
				side: THREE.DoubleSide,
				color: 0xffffff,
				metalness:0,
				roughness:0, } );
			var rum = new THREE.Mesh( geometry, material );
			rum.receiveShadow = true;
			scene.add( rum );
			light.add (rum);


			var geometry = new THREE.TorusKnotBufferGeometry(1.5, .5, 256, 32, 1, 5);
			var material = new THREE.MeshStandardMaterial( {
						side: THREE.DoubleSide,
						color: 0x875BFA,
						metalness: 0,
						roughness: 0, } );
			var TorusKnot = new THREE.Mesh( geometry, material );
			TorusKnot.castShadow = true;
			scene.add( TorusKnot );

			var geometry = new THREE.TorusKnotBufferGeometry(10, .1, 256, 32, 1, 8);
			var material = new THREE.MeshStandardMaterial( { color: 0xCCBAFE,						metalness: 0,
									roughness: 0   } );
			var TorusKnot2 = new THREE.Mesh( geometry, material );
			scene.add( TorusKnot2 );

			var geometry = new THREE.TorusBufferGeometry( 20, 2, 50, 200 );
			var material = new THREE.MeshPhongMaterial( { color: 0x292FF9 } );
			var torus = new THREE.Mesh( geometry, material );
			//scene.add( torus );

			var geometry = new THREE.TorusBufferGeometry( 3, 1, 50, 200 );
			var material = new THREE.MeshPhongMaterial( { color: 0x000000 } );
			var torus2 = new THREE.Mesh( geometry, material );
			torus2.castShadow = true;
			scene.add( torus2 );




			rum.position.y= 20;
			rum.position.z= 10;

			cube.position.x= 5;
			sphere.position.y= -18;
			TorusKnot.position.x=-5;
			TorusKnot2.position.z=-10;
			torus2.position.y=10;

			camera.position.z = 8;
			camera.position.y = 2;



			function animate() {
			requestAnimationFrame( animate );


			cube.rotation.x += 0.03;
			cube.rotation.y += 0.02;

			//cube2.rotation.y += 0.01;


			TorusKnot.rotation.x += 0.01;
			TorusKnot.rotation.y += 0.02;

			TorusKnot2.rotation.x += 0.01;
			TorusKnot2.rotation.y += 0.02;

			torus2.rotation.x += 0.01;
			torus2.rotation.y += 0.01;
			torus2.rotation.z += 0.02;




			renderer.render( scene, camera );
		}

		loadModel();
		animate();



		</script>
	</body>
</html>
